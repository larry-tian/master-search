{"ast":null,"code":"var _jsxFileName = \"/Users/ganlintian/Desktop/Capstone/netlify/master-view/src/pages/Result.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useLayoutEffect } from 'react';\nimport { useNavigate, useLocation, Link } from 'react-router-dom';\nimport Loading from './Loading';\nimport Footer from './Footer'; // Material UI\n\nimport InputLabel from '@mui/material/InputLabel';\nimport MenuItem from '@mui/material/MenuItem';\nimport FormControl from '@mui/material/FormControl';\nimport Select from '@mui/material/Select';\nimport '../css/Result.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Result = () => {\n  _s();\n\n  // States\n  const [data, setData] = React.useState(null);\n  const [sortType, setSortType] = React.useState('FullName'); // test JASON\n\n  const [dataFetch, setDataFetch] = React.useState(false);\n  const [loadingResult, setLoadingResult] = React.useState(true);\n  const [listData, setListData] = React.useState(null); // Store the organization's ID\n\n  const location = useLocation();\n  const {\n    org\n  } = location.state; // Store the organization's info\n\n  let orgInfo = \"\";\n\n  if (listData != null) {\n    orgInfo = listData.filter(each => each.ClientCode == org)[0];\n  }\n\n  console.log(data); // Import data\n\n  const fetchData = () => {\n    const fakeData = require(\"./MOCK_DATA.json\");\n\n    console.log(fakeData);\n    setData(fakeData);\n    setDataFetch(true);\n    setLoadingResult(false); // const url = \"https://capstone.masterworks.cloud/v1/people?clientcode=\" + org;\n    // console.log(url)\n    // // Fetch people's list data\n    // fetch(url)\n    // .then((response) => response.json())\n    // .then((actualData) => {\n    //     console.log(actualData)\n    //     setData(actualData);\n    //     setDataFetch(true);\n    //     setLoadingResult(false);\n    // })\n    // .catch((err) => {\n    //     console.log(err.message);\n    // });\n    // Fetch organization list data\n\n    fetch('https://capstone.masterworks.cloud/v1/organizationlist_2').then(response => response.json()).then(actualData => setListData(actualData)).catch(err => {\n      console.log(err.message);\n    }); // Fake data loading\n  };\n\n  if (data != null) {\n    if (sortType == \"AdsViewed\") {\n      data.sort((a, b) => b[sortType] - a[sortType]);\n    } else if (sortType == \"NumberOfActions\") {\n      data.sort((a, b) => b[sortType] - a[sortType]);\n    } else if (sortType == \"FullName\") {\n      data.sort((a, b) => a[sortType].localeCompare(b[sortType]));\n    } else if (sortType == \"TotalGift\") {\n      data.sort((a, b) => b[sortType] - a[sortType]); // data.sort((a,b) => parseFloat(a[sortType].slice(1)) - parseFloat(b[sortType].slice(1)));\n    } else if (sortType == \"LastActive\") {\n      data.sort((a, b) => Date.parse(b[sortType]) - Date.parse(a[sortType]));\n    }\n  }\n\n  const navigate = useNavigate(); // Search for a specific user\n  // let warning;\n  // const handleSearchSubmit = () => {\n  //     if (document.getElementById(\"first-name\")) {\n  //         const firstName = document.getElementById(\"first-name\").value\n  //         setFilteredData(data.filter(each => each.first_name == firstName))\n  //         setSearchStatus(true)\n  //     } else if (document.getElementById(\"last-name\")) {\n  //         const lastName = document.getElementById(\"last-name\").value\n  //         setFilteredData(data.filter(each => each.last_name == lastName))\n  //         setSearchStatus(true)\n  //     } else if (document.getElementById(\"first-name\") && document.getElementById(\"last-name\")) {\n  //         const firstName = document.getElementById(\"first-name\").value\n  //         const lastName = document.getElementById(\"last-name\").value\n  //         setFilteredData(data.filter(each => (each.first_name == firstName && each.last_name == lastName)))\n  //         setSearchStatus(true)\n  //     } else {\n  //         warning = <p>Please input either a last name or a first name</p>\n  //     }\n  //     // const lastName = document.getElementById(\"last-name\").value\n  //     // console.log(firstName)\n  //     // let answer = data.filter(each => each.first_name == firstName && each.last_name == lastName)\n  // }\n\n  const directHome = () => {\n    navigate('/');\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n  useLayoutEffect(() => {\n    window.scrollTo(0, 0);\n  });\n  let resultContent;\n\n  if (dataFetch == true) {\n    // if (searchStatus == true) {\n    //     displayData = filteredData\n    // } else {\n    //     displayData = data\n    // }\n    resultContent = data.map((item, key) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          className: \"link-to-profile\",\n          to: \"/profile\",\n          state: {\n            data: item,\n            org: org\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"result-card-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"result-card-item-name\",\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                className: \"result-card-item-name-text\",\n                children: item.FullName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 62\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"result-card-item-data\",\n              children: [\"Total Gift: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                className: \"result-card-item-data-text\",\n                children: item.TotalGift\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 74\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"result-card-item-data\",\n              children: [\"Ads Viewed: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                className: \"result-card-item-data-text\",\n                children: item.AdsViewed\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 74\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"result-card-item-data\",\n              children: [\"Interactions: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                className: \"result-card-item-data-text\",\n                children: item.NumberOfActions\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 76\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"result-card-item-data\",\n              children: [\"Last Active: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                className: \"result-card-item-data-text\",\n                children: item.LastActive\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 75\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 17\n        }, this)\n      }, key, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 20\n      }, this);\n    });\n  } else {\n    resultContent = /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Sorry, we didn't find anything :(\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 25\n    }, this);\n  } // Placeholder\n\n\n  let searchUserContent = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mb-3\",\n    children: \"\\xA0\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 164,\n    columnNumber: 9\n  }, this);\n\n  let content;\n\n  if (loadingResult) {\n    content = /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 19\n    }, this);\n  } else {\n    content = /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"result-title\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"back-button-content\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"back-button\",\n            onClick: directHome,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"https://capstone.masterworks.cloud/img/backButton.svg\",\n              className: \"back-button-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"back-title\",\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Select another organization\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 51\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"heading-one mt-4\",\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: orgInfo.ClientName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 50\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"heading-small-title mt-3\",\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [data.length, \" USER(S) FOUND\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 57\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 17\n        }, this), searchUserContent]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"result-content-background\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row result-content-sort-ui\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"filter-ui-desc\",\n            children: \"Sort the table:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            sx: {\n              m: 1,\n              minWidth: 160\n            },\n            size: \"small\",\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              id: \"demo-simple-select-label\",\n              children: \"Sort By\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              labelId: \"demo-simple-select-label\",\n              id: \"demo-simple-select\",\n              label: \"Sort By\",\n              onChange: function (event) {\n                setSortType(event.target.value);\n              },\n              children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"FullName\",\n                children: \"Full Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"TotalGift\",\n                children: \"Gift Amount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"AdsViewed\",\n                children: \"Ads Viewed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"NumberOfActions\",\n                children: \"Number of Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"LastActive\",\n                children: \"Last Active\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"result-card-content pb-5\",\n          children: resultContent\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 19\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: content\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 269,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Result, \"ZORnbi7IqopLKhaEoLNuA/o4ex4=\", false, function () {\n  return [useLocation, useNavigate];\n});\n\n_c = Result;\nexport default Result;\n\nvar _c;\n\n$RefreshReg$(_c, \"Result\");","map":{"version":3,"sources":["/Users/ganlintian/Desktop/Capstone/netlify/master-view/src/pages/Result.js"],"names":["React","useState","useEffect","useLayoutEffect","useNavigate","useLocation","Link","Loading","Footer","InputLabel","MenuItem","FormControl","Select","Result","data","setData","sortType","setSortType","dataFetch","setDataFetch","loadingResult","setLoadingResult","listData","setListData","location","org","state","orgInfo","filter","each","ClientCode","console","log","fetchData","fakeData","require","fetch","then","response","json","actualData","catch","err","message","sort","a","b","localeCompare","Date","parse","navigate","directHome","window","scrollTo","resultContent","map","item","key","FullName","TotalGift","AdsViewed","NumberOfActions","LastActive","searchUserContent","content","ClientName","length","m","minWidth","event","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useLayoutEffect } from 'react';\n\nimport { useNavigate, useLocation, Link } from 'react-router-dom';\n\nimport Loading from './Loading'\nimport Footer from './Footer'\n\n\n// Material UI\nimport InputLabel from '@mui/material/InputLabel';\nimport MenuItem from '@mui/material/MenuItem';\nimport FormControl from '@mui/material/FormControl';\nimport Select from '@mui/material/Select';\n\nimport '../css/Result.css';\n\nconst Result = () => {\n\n    // States\n    const [data, setData] = React.useState(null);\n    const [sortType, setSortType] = React.useState('FullName'); // test JASON\n    const [dataFetch, setDataFetch] = React.useState(false);\n\n    const [loadingResult, setLoadingResult] = React.useState(true);\n    const [listData, setListData] = React.useState(null);\n\n    // Store the organization's ID\n    const location = useLocation()\n    const { org } = location.state\n\n    // Store the organization's info\n    let orgInfo = \"\";\n\n    if (listData != null) {\n        orgInfo = listData.filter(each => each.ClientCode == org)[0]\n    }\n\n    console.log(data)\n    // Import data\n    const fetchData = () => {\n        const fakeData = require(\"./MOCK_DATA.json\");\n        console.log(fakeData)\n\n        setData(fakeData)\n        setDataFetch(true);\n        setLoadingResult(false);\n\n        // const url = \"https://capstone.masterworks.cloud/v1/people?clientcode=\" + org;\n        // console.log(url)\n        // // Fetch people's list data\n        // fetch(url)\n        // .then((response) => response.json())\n        // .then((actualData) => {\n        //     console.log(actualData)\n        //     setData(actualData);\n        //     setDataFetch(true);\n        //     setLoadingResult(false);\n        // })\n        // .catch((err) => {\n        //     console.log(err.message);\n        // });\n\n        // Fetch organization list data\n        fetch('https://capstone.masterworks.cloud/v1/organizationlist_2')\n            .then((response) => response.json())\n            .then((actualData) => setListData(actualData))\n            .catch((err) => {\n                console.log(err.message);\n            });\n\n        // Fake data loading\n    }\n\n    if (data != null) {\n        if (sortType == \"AdsViewed\") {\n            data.sort((a, b) => b[sortType] - a[sortType]);\n        } else if (sortType == \"NumberOfActions\") {\n            data.sort((a, b) => b[sortType] - a[sortType]);\n        } else if (sortType == \"FullName\") {\n            data.sort((a,b) => a[sortType].localeCompare(b[sortType]));\n        } else if (sortType == \"TotalGift\") {\n            data.sort((a, b) => b[sortType] - a[sortType]);\n            // data.sort((a,b) => parseFloat(a[sortType].slice(1)) - parseFloat(b[sortType].slice(1)));\n        } else if (sortType == \"LastActive\") {\n            data.sort((a,b) => Date.parse(b[sortType]) - Date.parse(a[sortType]));\n        } \n    }\n\n    const navigate = useNavigate();\n\n    // Search for a specific user\n\n    // let warning;\n\n    // const handleSearchSubmit = () => {\n    //     if (document.getElementById(\"first-name\")) {\n    //         const firstName = document.getElementById(\"first-name\").value\n    //         setFilteredData(data.filter(each => each.first_name == firstName))\n    //         setSearchStatus(true)\n    //     } else if (document.getElementById(\"last-name\")) {\n    //         const lastName = document.getElementById(\"last-name\").value\n    //         setFilteredData(data.filter(each => each.last_name == lastName))\n    //         setSearchStatus(true)\n    //     } else if (document.getElementById(\"first-name\") && document.getElementById(\"last-name\")) {\n    //         const firstName = document.getElementById(\"first-name\").value\n    //         const lastName = document.getElementById(\"last-name\").value\n    //         setFilteredData(data.filter(each => (each.first_name == firstName && each.last_name == lastName)))\n    //         setSearchStatus(true)\n    //     } else {\n    //         warning = <p>Please input either a last name or a first name</p>\n    //     }\n    //     // const lastName = document.getElementById(\"last-name\").value\n    //     // console.log(firstName)\n    //     // let answer = data.filter(each => each.first_name == firstName && each.last_name == lastName)\n    // }\n\n    const directHome = () => {\n        navigate('/');\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, []);\n\n    useLayoutEffect(() => {\n        window.scrollTo(0, 0)\n    });\n\n    let resultContent;\n\n    if (dataFetch == true) {\n        // if (searchStatus == true) {\n        //     displayData = filteredData\n        // } else {\n        //     displayData = data\n        // }\n\n        resultContent = data.map((item, key) => {\n            return <div key={key}>\n\n                {/* Pass in CUID as state to generate profile */}\n                <Link className=\"link-to-profile\" to=\"/profile\" state={{ data: item, org: org }}>\n                    <div className=\"result-card-item\">\n                        <p className=\"result-card-item-name\"><strong className=\"result-card-item-name-text\">{item.FullName}</strong></p>\n                        <p className=\"result-card-item-data\">Total Gift: <strong className=\"result-card-item-data-text\">{item.TotalGift}</strong></p>\n                        <p className=\"result-card-item-data\">Ads Viewed: <strong className=\"result-card-item-data-text\">{item.AdsViewed}</strong></p>\n                        <p className=\"result-card-item-data\">Interactions: <strong className=\"result-card-item-data-text\">{item.NumberOfActions}</strong></p>\n                        <p className=\"result-card-item-data\">Last Active: <strong className=\"result-card-item-data-text\">{item.LastActive}</strong></p>\n                    </div>\n                </Link>\n            </div>;\n\n        });\n    } else {\n\n        resultContent = <div>\n            <p>Sorry, we didn't find anything :(</p>\n        </div>\n\n    }\n\n    // Placeholder\n    let searchUserContent =\n        <div className=\"mb-3\">&nbsp;</div>;\n\n    let content;\n    if (loadingResult) {\n        content = <Loading />\n    } else {\n        content = <div>\n            {/* Title Section */}\n            <div className=\"result-title\">\n                {/* Back button */}\n                <div className=\"back-button-content\">\n                    <button className=\"back-button\" onClick={directHome}>\n                        <img src=\"https://capstone.masterworks.cloud/img/backButton.svg\" className=\"back-button-icon\" />\n                        <p className=\"back-title\"><strong>Select another organization</strong></p>\n                    </button>\n                </div>\n\n                {/* Titles */}\n                <h1 className=\"heading-one mt-4\"><strong>{orgInfo.ClientName}</strong></h1>\n                <p className=\"heading-small-title mt-3\"><strong>{data.length} USER(S) FOUND</strong></p>\n\n                {/* Search a specific user */}\n                {searchUserContent}\n\n                {/* Filter UIs */}\n                {/* <div className=\"row filter-ui-row\">\n                    <p className='filter-ui-desc'>Search a specific user:</p>\n\n                    <Box\n                        component=\"form\"\n                        sx={{\n                            '& .MuiTextField-root': { m: 1, minWidth: 160 },\n                        }}\n                        noValidate\n                        autoComplete=\"off\"\n                    >\n                    <TextField\n                        required\n                        id=\"first-name\"\n                        label=\"First Name\"\n                        size=\"small\"\n                        className=\"mt-2\"\n                    />\n\n                    <TextField\n                        required\n                        id=\"last-name\"\n                        label=\"Last Name\"\n                        size=\"small\"\n                        className=\"mt-2\"\n                    />\n\n                    </Box>\n\n                    <button className=\"search-user-button\" onClick={handleSearchSubmit}><strong>Search</strong></button>\n\n                </div> */}\n            </div>\n            \n            {/* {warning} */}\n\n            {/* The list of result */}\n            <div className=\"result-content-background\">\n                <div className=\"row result-content-sort-ui\">\n                    <p className='filter-ui-desc'>Sort the table:</p>\n\n                    {/* Selection box for Sort By */}\n                    <FormControl sx={{ m: 1, minWidth: 160 }} size=\"small\">\n                        <InputLabel id=\"demo-simple-select-label\">Sort By</InputLabel>\n                        <Select\n                            labelId=\"demo-simple-select-label\"\n                            id=\"demo-simple-select\"\n                            label=\"Sort By\"\n                            onChange={function (event) {\n                                setSortType(event.target.value); \n                            }}\n                        >\n                            <MenuItem value={\"FullName\"}>Full Name</MenuItem>\n                            <MenuItem value={\"TotalGift\"}>Gift Amount</MenuItem>\n                            <MenuItem value={\"AdsViewed\"}>Ads Viewed</MenuItem>\n                            <MenuItem value={\"NumberOfActions\"}>Number of Actions</MenuItem>\n                            <MenuItem value={\"LastActive\"}>Last Active</MenuItem>\n                        </Select>\n                    </FormControl>\n                </div>\n\n                {/* Table titles\n                <div className=\"result-card-title row\">\n                    <p className=\"table-heading\" id=\"first-table-heading\">NAME</p>\n                    <p className=\"table-heading\" id=\"rest-table-heading\">TOTAL GIFT</p>\n                    <p className=\"table-heading\" id=\"rest-table-heading\">ADS VIEWED</p>\n                    <p className=\"table-heading\" id=\"rest-table-heading\"># OF ACTIONS</p>\n                    <p className=\"table-heading\" id=\"rest-table-heading\">LAST ACTIVE</p>\n                </div> */}\n\n                {/* List items */}\n                <div className=\"result-card-content pb-5\">\n                    {resultContent}\n                </div>\n            </div>\n            <Footer />\n        </div>\n    }\n\n    return (\n        <div>\n            {content}\n        </div>\n    )\n}\n\nexport default Result;"]},"metadata":{},"sourceType":"module"}